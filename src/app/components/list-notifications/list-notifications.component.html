<ion-list class="list-notifications">
    <ion-list-header *ngIf="showListHeader">
        <ion-label>
            <h2 class="title_list">Notificaciones</h2>
        </ion-label>
    </ion-list-header>
    <div class="loading-app" *ngIf="!requestFinished">
        <loader-app class="flex-column-center"></loader-app>
    </div>
    <ng-container *ngIf="requestFinished && notificationsRequested && notificationsRequested.length > 0">
        <ion-item [lines]="getLinesState(i)" *ngFor="let noti of notificationsRequested; let i = index;"
            (click)="manageNoti(noti)">
            <ion-avatar slot="start" *ngIf="noti.notification_user">
                <img [src]="noti.notification_user.avatar" fallimg="user_avatar">
            </ion-avatar>
            <ion-label class="notifications_description">
                <h2 class="title">{{noti.title || 'sin title'}}</h2>
                <h3 class="author" *ngIf="noti.notification_user">{{noti.notification_user.first_name}} {{noti.user.last_name}} </h3>
                <p class="description ion-text-wrap">{{noti.message || 'sin message'}}</p>
            </ion-label>
            <div slot="end">
                <span class="icon-noti-readed" [class.active]="(noti.read_at != null)"></span>
            </div>
        </ion-item>
    </ng-container>
    <ion-item lines="none" *ngIf="requestFinished && notificationsRequested && notificationsRequested.length === 0">
        <ion-label class="ion-text-wrap ion-text-center">No existen notificaciones disponibles</ion-label>
    </ion-item>
</ion-list>