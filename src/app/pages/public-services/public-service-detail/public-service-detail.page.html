<app-header-back title="Servicio" [backUrl]="backUrl" [showNoti]="false"></app-header-back>

<ion-content class="ion-padding">
     <!-- Mensaje si no esta el gps activado -->
     <ng-container *ngIf="!showSimpleMap">
         <app-localization-info gpsTextInfo="Por favor activa el GPS para poder visualizar correctamente el mapa"></app-localization-info>
     </ng-container>
    <!-- Loader mientras cargan datos -->
    <div class="loading-app" *ngIf="!publicServiceLoaded">
        <loader-app class="flex-column-center"></loader-app>
    </div>
    <!-- Datos ya cargados -->
    <div *ngIf="publicServiceDetail">
        <h1 class="ion-text">{{publicServiceDetail.name}}</h1>
        <p class="ion-text">{{publicServiceDetail.description}}</p>
        <div>
            <p style="display:block;font-weight: bold;">Dirección:</p>
            <p>{{(publicServiceDetail.ubication && publicServiceDetail.ubication.address) ? publicServiceDetail.ubication.address: 'No existe una dirección registrada'}}
            </p>
        </div>
        <div>
            <p style="display:block;font-weight: bold;">Correo de Contacto:</p>
            <p>{{(publicServiceDetail.email) ? publicServiceDetail.email: 'Ningún correo registrado'}}
            </p>
        </div>
        <div>
            <p style="display:block;font-weight: bold;">Horario Atención:</p>
            <p>{{
                (publicServiceDetail.public_opening && publicServiceDetail.public_opening["open-time"]) ? publicServiceDetail.public_opening["open-time"]: ''}} - {{
                    (publicServiceDetail.public_opening && publicServiceDetail.public_opening["close-time"]) ? publicServiceDetail.public_opening["close-time"]: ''}}
            </p>
        </div>
        <div *ngIf="publicServiceDistance">
            <p style="display:block;font-weight: bold;">Distancia:</p>
            <p>El destino se encuentra a {{publicServiceDistance}} km desde tu ubicación
                actual</p>
        </div>

        <simple-routing-map [zoom]="11" className="public-service-map" [simpleMap]="showSimpleMap"
            [targetUbicacionIcon]="(publicServiceDetail.subcategory && publicServiceDetail.subcategory.image_link)?publicServiceDetail.subcategory.image_link: null"
            id="public-service-map-detail-{{id}}"
            [destinationCoords]="publicServiceDetail.ubication" [usePolyline]="false"
            (mapEvent)="manageMapEvent($event)" [enableGesture]="true" [currentCoordinate]="currentPosition"></simple-routing-map>
    </div>
</ion-content>
